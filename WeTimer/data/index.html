<!doctype html><html lang=fr><meta charset=utf-8><meta name=viewport content="width=device-width"><meta name=description content="Minuterie planeur de Vol Libre"><title>WeTimer</title><link rel="shortcut icon" type=image/svg+xml href=images/favicon.svg><link id=cssMain rel=stylesheet href=style.css><script src=scripts.js></script><body onload=index_onload() onbeforeunload=index_beforeunload() onclick=index_onclick() onresize=index_resize()><header><div class=flex_100><div class=head1><image id=logo src=images/logo.svg onclick=reloadPage1()></div><div class=head2><h1><span class=span_title>WeTimer</span></h1><p id=pversion1 class=center>v?.?</div><div class=head3><image id=settings src=images/settings.svg onclick=showSettings()></div></div><div class=hr></div></header><div class=pagewrapper><div id=la_page><div id=page_1><div id=batterie>&nbsp;</div><div class=led_container><div><div id=led1 class=led></div><div id=led0 class=led></div></div><span id=ws_state>ws_state</span></div><p class=center><span id=timer_ssid>&nbsp;</span><br>Phase = <span id=timer_status>&nbsp;</span><div class=hr></div><p id=description_page1 class=description>&nbsp;<p class=center>Temp de vol (secondes) <span id=duree_vol>&nbsp;</span></p><div id=main_form><div class="nomargin center"><div class=vertical_space><div class=flex_100><input type=number name=tempVol id=tempVol min=1 max=1800 step=1 value=180 onfocus=this.select() oninput='calculTemps("tempVol","tempsMinutes")' onchange=forceInterval(this,Number(this.value),Number(this.min),Number(this.max))><div class="b1 bm1" tabindex=-1 onclick=doNothing() ontouchstart='beginTouch(event,"tempVol",-1)' onmousedown='beginChange("tempVol",-1)' ontouchend='stopTouch(event,"tempVol"),calculTemps("tempVol","tempsMinutes")' onmouseup='stopChange("tempVol"),calculTemps("tempVol","tempsMinutes")'></div><div class="b1 bp1" tabindex=-1 onclick=doNothing() ontouchstart='beginTouch(event,"tempVol",1)' onmousedown='beginChange("tempVol",1)' ontouchend='stopTouch(event,"tempVol"),calculTemps("tempVol","tempsMinutes")' onmouseup='stopChange("tempVol"),calculTemps("tempVol","tempsMinutes")'></div></div></div><div class=vertical_space><div class=flex_100><div class="b1 bmm" tabindex=-1 onclick='changeVal("tempVol",-60),calculTemps("tempVol","tempsMinutes")'>&nbsp;</div><div class="b1 bm2" tabindex=-1 onclick='changeVal("tempVol",-10),calculTemps("tempVol","tempsMinutes")'>&nbsp;</div><div class="b1 bp2" tabindex=-1 onclick='changeVal("tempVol",10),calculTemps("tempVol","tempsMinutes")'>&nbsp;</div><div class="b1 bpm" tabindex=-1 onclick='changeVal("tempVol",60),calculTemps("tempVol","tempsMinutes")'>&nbsp;</div></div></div></div><p class=center id=tempsMinutes>0 minute(s) 0 seconde(s)<p><div class=centreur><div class=bouton onclick='XMLHttpRequest_get("/gettempvol")'>Relire</div><div class=bouton onclick='XMLHttpRequest_post("/settempvol")'>Envoi</div></div><p><div class=centreur><div class=container><div id=btn_rdt class="btn_rdt btn_rdt_disabled" onclick=sendRDT()><br>RDT</div><div id=rdt_on_off><image id=rdtonoff src=images/rdtoff.svg onclick=rd_ton_off(event);></div></div></div></div></div><div id=page_2 class=noshow><p id=description_page2 class=description><p><image id=btnMenu src=images/btnmenu.svg onclick=showMenu(event);>Configuration de a minuterie :</p><span id=saveLinkSpan class=noshow><a id=saveLink href=/getjson download=wetimer.json>Enregistrer...</a></span>
<menu id=menu class="dropdown noshow"><div class=menuItem onclick=inputDescription() ;><li>Description...</div><hr class=menu_hr><div class=menuItem onclick=saveFile()><li>Ouvrir...</div><div class=menuItem onclick=openFile()><li>Enregistrer...</div><script>var leLien=location.protocol=="file:"?netDevURL+"/getjson":"/getjson";document.getElementById("saveLinkSpan").innerHTML="<a id='saveLink' href='"+leLien+"' download='wetimer.json'>Enregistrer...</a>"</script><hr class=menu_hr><div class=menuItem onclick=inputWifi()><li>Configurer le réseau WiFi</div></menu><div id=config_form><table id=tsetup><thead><tr><td>Phases<td>Délais<td>Cumul<td class=tdServoHead onclick=configServo(1)>Servo1<td class=tdServoHead onclick=configServo(2)>Servo2<td class=tdServoHead onclick=configServo(3)>Servo3<tbody id=setup_table></table><input type=file id=fileSelect accept=application/json onchange=fileSelected(this) class=noshow></div></div></div><div id=pied_page ondblclick=index_ondblclick()><p>Minuterie WiFi WeTimer - <span id=pversion2>&nbsp;</span><br>Copyright &copy; 2021-2024 - Gauthier Brière</div></div><div id=dialog_mask class=noshow onclick=event.stopPropagation()><div id=input_delai class="inputBox noshow" onclick=event.stopPropagation()><p id=input_delai_title class=inputTitle>&nbsp;<p class=explications>Délais indiqués en secondes avec deux décimales possibles.<div class="nomargin center"><div class=flex_95><div class="b2 bm2" tabindex=-1 ontouchstart='beginTouch(event,"delaiSec",-.1)' onmousedown='beginChange("delaiSec",-.1)' ontouchend='stopTouch(event,"delaiSec"),calculTemps("delaiSec","delaiMinutes",!1)' onmouseup='stopChange("delaiSec"),calculTemps("delaiSec","delaiMinutes",!1)'></div><div class="b2 bm1" tabindex=-1 ontouchstart='beginTouch(event,"delaiSec",-.01)' onmousedown='beginChange("delaiSec",-.01)' ontouchend='stopTouch(event,"delaiSec"),calculTemps("delaiSec","delaiMinutes",!1)' onmouseup='stopChange("delaiSec"),calculTemps("delaiSec","delaiMinutes",!1)'></div><input type=number name=delaiSec id=delaiSec min=0 max=1800 step=0.01 value=0.00 onfocus=this.select() oninput='calculTemps("delaiSec","delaiMinutes",!1)' onchange=forceInterval(this,Number(this.value),Number(this.min),Number(this.max))><div class="b2 bp1" tabindex=-1 ontouchstart='beginTouch(event,"delaiSec",.01)' onmousedown='beginChange("delaiSec",.01)' ontouchend='stopTouch(event,"delaiSec"),calculTemps("delaiSec","delaiMinutes",!1)' onmouseup='stopChange("delaiSec"),calculTemps("delaiSec","delaiMinutes",!1)'></div><div class="b2 bp2" tabindex=-1 ontouchstart='beginTouch(event,"delaiSec",.1)' onmousedown='beginChange("delaiSec",.1)' ontouchend='stopTouch(event,"delaiSec"),calculTemps("delaiSec","delaiMinutes",!1)' onmouseup='stopChange("delaiSec"),calculTemps("delaiSec","delaiMinutes",!1)'></div></div><br><div class=flex_95><div class="b2 bmm" tabindex=-1 onclick='changeVal("delaiSec",-60,!1),calculTemps("delaiSec","delaiMinutes",!1)'></div><div class="b2 bm2" tabindex=-1 onclick='changeVal("delaiSec",-10,!1),calculTemps("delaiSec","delaiMinutes",!1)'></div><div class="b2 bm1" tabindex=-1 onclick='changeVal("delaiSec",-1,!1),calculTemps("delaiSec","delaiMinutes",!1)'></div><div class="b2 bp1" tabindex=-1 onclick='changeVal("delaiSec",1,!1),calculTemps("delaiSec","delaiMinutes",!1)'></div><div class="b2 bp2" tabindex=-1 onclick='changeVal("delaiSec",10,!1),calculTemps("delaiSec","delaiMinutes",!1)'></div><div class="b2 bpm" tabindex=-1 onclick='changeVal("delaiSec",60,!1),calculTemps("delaiSec","delaiMinutes",!1)'></div></div></div><p class=center id=delaiMinutes>0 minute(s) 0 seconde(s)<div class=boutonOKAnnuler><input type=button class=btnOkAnnuler tabindex=-1 onclick=dialogHide() value=Annuler>
<input type=button class=btnOkAnnuler tabindex=-1 onclick=delaiOK() value=&nbsp;&nbsp;OK&nbsp;&nbsp;></div></div><div id=input_servo class="inputBox noshow" onclick=event.stopPropagation()><p id=input_servo_title class=inputTitle>Amplitude servo<div class="nomargin gauche"><p>Valeurs de programmation :<br><input type=hidden id=servoNum name=servoNum value=0>
<input type=hidden id=oldCourse1 name=oldCourse1 value=0>
<input type=hidden id=oldCourse2 name=oldCourse2 value=0>
<input type=hidden id=oldPwm1 name=oldPwm1 value=0>
<input type=hidden id=oldPwm2 name=oldPwm2 value=0><div class=flex_100><label for=course1>Extrémité 1</label>
<input type=number name=course1 id=course1 class=cServoInput min=-2400 max=2400 step=1 value=544 onfocus=this.select() oninput=changePlageServo(this.id) onchange=forceInterval(this,Number(this.value),Number(this.min),Number(this.max))><div class="b3 bm2" tabindex=-1 ontouchstart='beginTouch(event,"course1",-10)' onmousedown='beginChange("course1",-10)' ontouchend='stopTouch(event,"course1"),changePlageServo("course1")' onmouseup='stopChange("course1"),changePlageServo("course1")'></div><div class="b3 bm1" tabindex=-1 ontouchstart='beginTouch(event,"course1",-1)' onmousedown='beginChange("course1",-1)' ontouchend='stopTouch(event,"course1"),changePlageServo("course1")' onmouseup='stopChange("course1"),changePlageServo("course1")'></div><div class="b3 bp1" tabindex=-1 ontouchstart='beginTouch(event,"course1",1)' onmousedown='beginChange("course1",1)' ontouchend='stopTouch(event,"course1"),changePlageServo("course1")' onmouseup='stopChange("course1"),changePlageServo("course1")'></div><div class="b3 bp2" tabindex=-1 ontouchstart='beginTouch(event,"course1",10)' onmousedown='beginChange("course1",10)' ontouchend='stopTouch(event,"course1"),changePlageServo("course1")' onmouseup='stopChange("course1"),changePlageServo("course1")'></div></div><div class=flex_100><label for=course2>Extrémité 2</label>
<input type=number name=course2 id=course2 class=cServoInput min=-2400 max=2400 step=1 value=2400 onfocus=this.select() oninput=changePlageServo(this.id) onchange=forceInterval(this,Number(this.value),Number(this.min),Number(this.max))><div class="b3 bm2" tabindex=-1 ontouchstart='beginTouch(event,"course2",-10)' onmousedown='beginChange("course2",-10)' ontouchend='stopTouch(event,"course2"),changePlageServo("course2")' onmouseup='stopChange("course2"),changePlageServo("course2")'></div><div class="b3 bm1" tabindex=-1 ontouchstart='beginTouch(event,"course2",-1)' onmousedown='beginChange("course2",-1)' ontouchend='stopTouch(event,"course2"),changePlageServo("course2")' onmouseup='stopChange("course2"),changePlageServo("course2")'></div><div class="b3 bp1" tabindex=-1 ontouchstart='beginTouch(event,"course2",1)' onmousedown='beginChange("course2",1)' ontouchend='stopTouch(event,"course2"),changePlageServo("course2")' onmouseup='stopChange("course2"),changePlageServo("course2")'></div><div class="b3 bp2" tabindex=-1 ontouchstart='beginTouch(event,"course2",10)' onmousedown='beginChange("course2",10)' ontouchend='stopTouch(event,"course2"),changePlageServo("course2")' onmouseup='stopChange("course2"),changePlageServo("course2")'></div></div><p>Impulsion PWM (microsecondes) :<br><div class=pos_relative><div class=NOtable><div class=NOrow><div class=NOcell><input type=hidden id=oldPwm1 name=oldPwm1 value=0>
<input type=hidden id=oldPwm2 name=oldPwm2 value=0><div class=flex_90><label for=pwm1>Extrémité 1</label>
<input type=number name=pwm1 id=pwm1 class=cServoInput min=544 max=2400 step=1 value=544 onfocus=this.select() oninput=changePlageServo(this.id) onchange=forceInterval(this,Number(this.value),Number(this.min),Number(this.max))><div class="b3 bm2" tabindex=-1 ontouchstart='beginTouch(event,"pwm1",-10)' onmousedown='beginChange("pwm1",-10)' ontouchend='stopTouch(event,"pwm1")' onmouseup='stopChange("pwm1")'></div><div class="b3 bm1" tabindex=-1 ontouchstart='beginTouch(event,"pwm1",-1)' onmousedown='beginChange("pwm1",-1)' ontouchend='stopTouch(event,"pwm1")' onmouseup='stopChange("pwm1")'></div><div class="b3 bp1" tabindex=-1 ontouchstart='beginTouch(event,"pwm1",1)' onmousedown='beginChange("pwm1",1)' ontouchend='stopTouch(event,"pwm1")' onmouseup='stopChange("pwm1")'></div><div class="b3 bp2" tabindex=-1 ontouchstart='beginTouch(event,"pwm1",10)' onmousedown='beginChange("pwm1",10)' ontouchend='stopTouch(event,"pwm1")' onmouseup='stopChange("pwm1")'></div></div><div class=flex_90><label for=pwm2>Extrémité 2</label>
<input type=number name=pwm2 id=pwm2 class=cServoInput min=544 max=2400 step=1 value=2400 onfocus=this.select() oninput=changePlageServo(this.id) onchange=forceInterval(this,Number(this.value),Number(this.min),Number(this.max))><div class="b3 bm2" tabindex=-1 ontouchstart='beginTouch(event,"pwm2",-10)' onmousedown='beginChange("pwm2",-10)' ontouchend='stopTouch(event,"pwm2")' onmouseup='stopChange("pwm2")'></div><div class="b3 bm1" tabindex=-1 ontouchstart='beginTouch(event,"pwm2",-1)' onmousedown='beginChange("pwm2",-1)' ontouchend='stopTouch(event,"pwm2")' onmouseup='stopChange("pwm2")'></div><div class="b3 bp1" tabindex=-1 ontouchstart='beginTouch(event,"pwm2",1)' onmousedown='beginChange("pwm2",1)' ontouchend='stopTouch(event,"pwm2")' onmouseup='stopChange("pwm2")'></div><div class="b3 bp2" tabindex=-1 ontouchstart='beginTouch(event,"pwm2",10)' onmousedown='beginChange("pwm2",10)' ontouchend='stopTouch(event,"pwm2")' onmouseup='stopChange("pwm2")'></div></div></div><div class="rowspanned NOcell"><div class=btnSwap tabindex=-1 onclick=swapPWM()></div></div></div></div></div><p><div><span>Test mode :</span>
<input type=radio id=sliderVal name=slider_option onclick=changeTestMode() value=0 checked>
<label for=sliderVal>Valeur</label>
<input type=radio id=sliderImp name=slider_option onclick=changeTestMode() value=1>
<label for=sliderImp>Impulsion</label></div><div class=ligne_slider><div class="b4 bm1" tabindex=-1 ontouchstart='beginTouch(event,"confRange",-1)' onmousedown='beginChange("confRange",-1)' ontouchend='stopTouch(event,"confRange")' onmouseup='stopChange("confRange")'></div><div class=centre_ligne_slider><p><span id=rangeValue>1472</span><p><input id=confRange class=slider type=range min=544 max=2400 value=1472 oninput=showRangeVal(this.value) onchange='showRangeVal(this.value),XMLHttpRequest_post("/servotest")'></div><div class="b4 bp1" tabindex=-1 ontouchstart='beginTouch(event,"confRange",1)' onmousedown='beginChange("confRange",1)' ontouchend='stopTouch(event,"confRange")' onmouseup='stopChange("confRange")'></div></div></div><div class=boutonOKAnnuler><input type=button class=btnOkAnnuler tabindex=-1 onclick=dialogHide() value=Annuler>
<input type=button class=btnOkAnnuler tabindex=-1 onclick=servoOK() value=Valider></div></div><div id=input_position class="inputBox noshow" onclick=event.stopPropagation()><p id=input_position_title class=inputTitle>Position servo</p><br><div class="nomargin gauche"><div class="nomargin center"><div class=flex_95><div class="b2 bm2" tabindex=-1 ontouchstart='beginTouch(event,"posAdjust",-10)' onmousedown='beginChange("posAdjust",-10)' ontouchend='stopTouch(event,"posAdjust"),calculTemps("posAdjust","delaiMinutes",!1)' onmouseup='stopChange("posAdjust"),calculTemps("posAdjust","delaiMinutes",!1)'></div><div class="b2 bm1" tabindex=-1 ontouchstart='beginTouch(event,"posAdjust",-1)' onmousedown='beginChange("posAdjust",-1)' ontouchend='stopTouch(event,"posAdjust"),calculTemps("posAdjust","delaiMinutes",!1)' onmouseup='stopChange("posAdjust"),calculTemps("posAdjust","delaiMinutes",!1)'></div><input type=number name=posAdjust id=posAdjust min=0 max=1800 step=0.01 value=0.00 onfocus=this.select() oninput=setPosRangeVal(this.value) onchange=forceInterval(this,Number(this.value),Number(this.min),Number(this.max))><div class="b2 bp1" tabindex=-1 ontouchstart='beginTouch(event,"posAdjust",1)' onmousedown='beginChange("posAdjust",1)' ontouchend='stopTouch(event,"posAdjust"),calculTemps("posAdjust","delaiMinutes",!1)' onmouseup='stopChange("posAdjust"),calculTemps("posAdjust","delaiMinutes",!1)'></div><div class="b2 bp2" tabindex=-1 ontouchstart='beginTouch(event,"posAdjust",10)' onmousedown='beginChange("posAdjust",10)' ontouchend='stopTouch(event,"posAdjust"),calculTemps("posAdjust","delaiMinutes",!1)' onmouseup='stopChange("posAdjust"),calculTemps("posAdjust","delaiMinutes",!1)'></div></div><br><div class=tbl_slider><div class=row><div class=col_gauche><span id=posLimit1>XXX</span></div><div class=col_centre><input id=posRange class=slider type=range min=544 max=2400 value=1472 oninput=showPosRangeVal(this.value) onchange='showPosRangeVal(this.value),XMLHttpRequest_post("/servopos")'></div><div class=col_droite><span id=posLimit2>XXX</span></div></div><div class=row></div></div><br></div></div><div class=boutonOKAnnuler><input type=button class=btnOkAnnuler tabindex=-1 onclick=dialogHide() value=Annuler>
<input type=button class=btnOkAnnuler tabindex=-1 onclick=positionOK() value=Valider></div></div><div id=input_wifi class="inputBox noshow" onclick=event.stopPropagation()><p id=input_position_title class=inputTitle>Configuration WiFi<div class="nomargin gauche"><br><div class=flex_wifi><div class=flex_wifi_col1><div class=flex_wifi_label><label for=apSSID>AP SSID</label></div><br><div class=flex_wifi_label><label for=apPwd1>AP password</label><br></div><div class=flex_wifi_label><label for=apPwd2>Repeat password</label></div></div><div class=flex_wifi_col2><input name=apSSID id=apSSID maxlength=32 oninput="apConfigChange=!0" onfocus=this.select()><br><br><input type=password name=apPwd1 id=apPwd1 maxlength=63 title="Enter AP password:
min len=8, max len=63
or leave it empty for no password." oninput="apConfigChange=!0" onfocus=this.select()><br><input type=password name=apPwd2 id=apPwd2 maxlength=63 title="Enter same as first AP password." oninput="apConfigChange=!0" onfocus=this.select()></div><div class=flex_wifi_col3><div class=flex_wifi_label></div><br><div class=flex_wifi_label><image id=btnShowPasswd src=images/oeuil.svg title="Show password" onclick="toogleShowPasswd('ap');"></div></div></div><div style=width:100%><br><div class=boutonOKAnnuler><input type=button class=btnOkAnnuler tabindex=-1 onclick=dialogHide() value=Annuler>
<input type=button id=btnValideAP class=btnOkAnnuler tabindex=-1 onclick=updateAPconfig() value=Valider></div></div></div></div>